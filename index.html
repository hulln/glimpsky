<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlimpSky - Bluesky Profile Viewer</title>
    <meta name="description" content="GlimpSky is a Bluesky viewer and Bluesky likes viewer. Explore public posts, likes, followers, and account activity with filters, regex search, and date ranges.">
    <meta name="keywords" content="bluesky viewer, bluesky likes viewer, bluesky profile viewer, at protocol viewer, bluesky posts viewer">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-image-preview:large">
    <meta property="og:title" content="GlimpSky - Bluesky Viewer and Likes Viewer">
    <meta property="og:description" content="Explore public Bluesky profiles: posts, likes, followers, regex search, and account activity from open AT Protocol data.">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="GlimpSky">
    <meta property="og:image" content="https://glimpsky.oblachek.eu/assets/og-image.png">
    <meta property="og:image:url" content="https://glimpsky.oblachek.eu/assets/og-image.png">
    <meta property="og:image:secure_url" content="https://glimpsky.oblachek.eu/assets/og-image.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="GlimpSky Bluesky Profile Viewer">
    <meta property="og:url" content="https://glimpsky.oblachek.eu/" id="ogUrl">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="GlimpSky - Bluesky Viewer and Likes Viewer">
    <meta name="twitter:description" content="Explore public Bluesky profiles with filters, regex search, and activity insights from AT Protocol data.">
    <meta name="twitter:image" content="https://glimpsky.oblachek.eu/assets/og-image.png">
    <meta name="twitter:image:alt" content="GlimpSky Bluesky Profile Viewer">
    <meta name="twitter:url" content="https://glimpsky.oblachek.eu/" id="twitterUrl">
    <meta name="author" content="oblachek.eu">
    <link rel="canonical" href="https://glimpsky.oblachek.eu/" id="canonicalUrl">
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
    <script type="application/ld+json" id="seoStructuredData">
        {
            "@context": "https://schema.org",
            "@type": "WebApplication",
            "name": "GlimpSky",
            "applicationCategory": "SocialNetworkingApplication",
            "operatingSystem": "Web",
            "description": "Bluesky viewer and Bluesky likes viewer for exploring public posts, likes, followers, and account activity.",
            "url": "https://glimpsky.oblachek.eu/"
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": [
                {
                    "@type": "Question",
                    "name": "What is GlimpSky?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "GlimpSky is a Bluesky viewer and Bluesky likes viewer for exploring public posts, likes, followers, and profile activity."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Do I need to sign in to use GlimpSky?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "No. GlimpSky reads publicly available Bluesky and AT Protocol data and does not require login."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Can I view likes and filter posts?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Yes. You can view likes, hide reposts or replies, filter by date, and search with plain text or regex."
                    }
                }
            ]
        }
    </script>
    <script>
        (function () {
            try {
                var stored = localStorage.getItem('glimpsky-theme');
                var darkPreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                var theme = (stored === 'dark' || stored === 'light') ? stored : (darkPreferred ? 'dark' : 'light');
                document.documentElement.setAttribute('data-theme', theme);
            } catch (e) {}
        })();
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="title-row">
                <img src="assets/favicon.svg" alt="" class="title-icon">
                <h1 id="mainTitle">GlimpSky</h1>
                <div class="title-actions">
                    <button class="about-btn" id="themeToggleBtn" type="button" aria-label="Toggle dark mode" aria-pressed="false"></button>
                    <button class="about-btn" id="infoBtn" type="button">About</button>
                </div>
            </div>
            <p class="title-sub">Bluesky Profile Viewer</p>
            <p class="subtitle">View posts and likes from any Bluesky profile. No login required.</p>
            <div class="header-divider"></div>
            
            <div class="input-group">
                <label for="handle">Bluesky Handle or DID</label>
                <div class="input-with-clear">
                    <input 
                        type="text" 
                        id="handle" 
                        placeholder="e.g., user.bsky.social or oblachek.eu"
                        value="">
                    <button class="clear-input" type="button" data-clear-target="handle" aria-label="Clear handle">×</button>
                </div>
                <div class="suggestions">
                    <div class="suggestions-panel" id="handleSuggestions"></div>
                </div>
            </div>

            <div class="filter-options">
                <div class="checkbox-group">
                    <input type="checkbox" id="hideReposts" checked>
                    <label for="hideReposts">Hide reposts</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="hideReplies">
                    <label for="hideReplies">Hide replies</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="onlyLinks">
                    <label for="onlyLinks">Only links</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="hideQuotes">
                    <label for="hideQuotes">Hide quotes</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="sortOldest">
                    <label for="sortOldest">Oldest first</label>
                </div>
            </div>

            <div class="advanced-filters-inline" id="advancedFiltersInline">
                <button class="advanced-filters-toggle" id="advancedFiltersToggle" type="button" aria-expanded="false" aria-controls="advancedFiltersContent">
                    <span>Advanced filters</span>
                    <span class="toggle-icon">▼</span>
                </button>
                <div class="advanced-filters-content" id="advancedFiltersContent">
                    <div class="filter-section">
                        <label for="dateFrom">Filter by date range</label>
                        <div class="date-inputs">
                            <input type="date" id="dateFrom" placeholder="From">
                            <input type="date" id="dateTo" placeholder="To">
                        </div>
                    </div>

                    <div class="filter-section filter-section-spaced">
                        <label for="searchText">Search posts by text</label>
                        <div class="input-with-clear">
                            <input type="text" class="search-input" id="searchText" placeholder="e.g., keywords or /hello.*/i">
                            <button class="clear-input" type="button" data-clear-target="searchText" aria-label="Clear search text">×</button>
                        </div>
                    </div>

                    <div class="filter-section filter-section-spaced">
                        <label for="searchAuthor">Search by author</label>
                        <div class="input-with-clear">
                            <input type="text" class="search-input" id="searchAuthor" placeholder="e.g., /bsky\\.social$/ or @handle">
                            <button class="clear-input" type="button" data-clear-target="searchAuthor" aria-label="Clear author search">×</button>
                        </div>
                        <div class="regex-help">Both fields: plain text works by default. Use /pattern/flags for regex (e.g., /hello.*/i).</div>
                    </div>

                    <div class="filter-banner" id="filterBanner">
                        <span class="filter-banner-text">Filters, including oldest first, require loading all content. Load now?</span>
                        <div class="filter-banner-actions">
                            <button class="btn-outline" id="filterLoadBtn" type="button">Load & Apply</button>
                            <button class="btn-outline" id="filterCancelBtn" type="button">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn-tab" id="loadPostsBtn">View Posts</button>
                <button class="btn-tab" id="loadLikesBtn">View Likes</button>
            </div>
        </div>

        <div id="error"></div>
        
        <div class="profile-card" id="profileCard"></div>

        <div class="content-section" id="contentSection">
            <div class="section-header">
                <h3 class="section-title" id="sectionTitle">Posts</h3>
            </div>
            <div id="content"></div>
            <div class="load-more-container" id="loadMoreContainer">
                <button class="load-more" id="loadMoreBtn">Load More</button>
            </div>
        </div>

    </div>

    
    <div id="listModal" class="modal" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="listModalTitle">
            <div class="modal-header">
                <div class="modal-title" id="listModalTitle">List</div>
                <button id="listModalClose" class="iconButton" type="button" aria-label="Close">×</button>
            </div>
            <div id="listModalMeta" class="modal-meta"></div>
            <div id="listModalList" class="modal-list"></div>
            <div class="modal-footer">
                <button id="listModalLoadMore" class="btn-secondary" type="button">Load more</button>
            </div>
        </div>
    </div>

    <div id="infoModal" class="modal" aria-hidden="true">
        <div class="info-modal-content" role="dialog" aria-modal="true">
            <div class="info-modal-header">
                <h2>About This Tool</h2>
            </div>
            <div class="info-modal-body">
                <p>Have you ever found a possibly interesting account that reposts a lot and wanted to quickly check whether they post original content, and what that content actually looks like?</p>
                <p>GlimpSky lets you explore public posts, likes, followers and other information from any Bluesky account. All data comes from the open AT Protocol via public Bluesky APIs and PDS endpoints. It also demonstrates how accessible open data on ATProto can be.</p>
                
                <p><strong>Inspired by</strong> <a href="https://github.com/ClearskyApp06/clearskyservices" target="_blank" rel="noopener noreferrer">Clearsky</a> (blocking features) and <a href="https://github.com/luizzeroxis/bluesky-likes/" target="_blank" rel="noopener noreferrer">Bluesky Likes by luizzeroxis</a> (likes display).</p>
                
                <p><strong>Made by</strong> <a href="https://bsky.app/profile/oblachek.eu" target="_blank" rel="noopener noreferrer">oblachek.eu</a> with a very big amount of good vibes named ChatGPT and Claude.</p>
                
                <p>This tool is for informational and educational purposes only.</p>
                <p class="share-line">Share: <a class="share-link" id="shareToolBtn" href="#" role="button">Copy link</a> <a class="share-link" id="shareBskyLink" href="#" target="_blank" rel="noopener noreferrer">Share on Bluesky</a></p>
            </div>
            <div class="info-modal-footer">
                <button id="infoModalClose" type="button">Close</button>
            </div>
        </div>
    </div>

<script src="app.js" defer></script>
</body>
</html>
